<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register - Spread a Smile</title>
  
  <!-- Consolidated CSS -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/dark-theme.css">
  <link rel="stylesheet" href="css/pages/register.css">
  
  <!-- three.js import map for celebration animation (only used on this page) -->
  <script async src="https://ga.jspm.io/npm:es-module-shims@1.6.3/dist/es-module-shims.js" crossorigin="anonymous"></script>
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.159.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.159.0/examples/jsm/"
      }
    }
  </script>
</head>

<body class="register-section">
  <div class="register-card" id="card">
    <h2>Become a SAS Member</h2>
    <p>Join us in spreading smiles to government school children</p>

  <form id="registerForm" novalidate autocomplete="off">
      <div class="form-row">
        <div class="form-group">
          <label for="name">Full Name *</label>
          <input type="text" id="name" name="name" required />
          <div id="nameError" class="field-error">Please enter your full name (min 2 characters).</div>
        </div>

        <div class="form-group">
          <label for="username">Username *</label>
          <div class="input-with-hint">
            <input type="text" id="username" name="username" required placeholder="choose a username" autocomplete="off" autocapitalize="none" autocorrect="off" spellcheck="false" />
            <small id="usernameHint" class="hint"></small>
          </div>
          <div id="usernameError" class="field-error">Choose a username (min 3 chars, no spaces).</div>
        </div>

        <div class="form-group">
          <label for="email">Email *</label>
          <input type="email" id="email" name="email" required aria-describedby="emailError" />
          <div id="emailError" class="field-error">Please enter a valid email</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="password">Password *</label>
          <div class="input-with-toggle">
            <input type="password" id="password" name="password" required aria-describedby="passwordHints" autocomplete="new-password" />
            <button type="button" id="togglePassword" class="toggle-password" aria-label="Toggle password visibility">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
              </svg>
            </button>
          </div>
          <ul id="passwordHints" class="password-hints" aria-live="polite">
            <li id="h_len">At least 8 characters</li>
            <li id="h_lower">At least one lowercase letter</li>
            <li id="h_upper">At least one uppercase letter</li>
            <li id="h_digit">At least one number</li>
            <li id="h_special">At least one special character (e.g., !@#$%)</li>
          </ul>
          <div id="passwordError" class="field-error">Password must meet all rules above.</div>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password *</label>
          <div class="input-with-toggle">
            <input type="password" id="confirmPassword" name="confirmPassword" required aria-describedby="confirmError" autocomplete="new-password" />
            <button type="button" id="toggleConfirmPassword" class="toggle-password" aria-label="Toggle confirm password visibility">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
              </svg>
            </button>
          </div>
          <div id="confirmError" class="field-error">Passwords do not match.</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="year">Current Year *</label>
          <select id="year" name="year" required>
            <option value="">Select Year</option>
            <option value="1">1st Year</option>
            <option value="2">2nd Year</option>
            <option value="3">3rd Year</option>
            <option value="4">4th Year</option>
            <option value="5">Others</option>
          </select>
          <div id="yearError" class="field-error">Please select your current year.</div>
        </div>

        <div class="form-group">
          <label for="phone">Phone Number *</label>
          <input type="tel" id="phone" name="phone" required maxlength="10" inputmode="numeric" pattern="\d{10}" aria-describedby="phoneError" />
          <div id="phoneError" class="field-error">Phone must be exactly 10 digits (numbers only).</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="collegeId" id="collegeIdLabel">College ID</label>
          <input type="text" id="collegeId" name="collegeId" />
          <div id="collegeError" class="field-error">Enter your college ID.</div>
        </div>

        <div class="form-group">
          <label for="department" id="departmentLabel">Department</label>
          <select id="department" name="department">
            <option value="">Select Department</option>
            <option value="CSE">Computer Science & Engineering</option>
            <option value="ECE">Electronics & Communication</option>
            <option value="EEE">Electrical & Electronics</option>
            <option value="MECH">Mechanical Engineering</option>
            <option value="CIVIL">Civil Engineering</option>
            <option value="IT">Information Technology</option>
          </select>
          <div id="deptError" class="field-error">Please select your department.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="skills">Skills & Interests</label>
        <textarea id="skills" name="skills" placeholder="E.g., Programming, Art, Sports, Music, Teaching..."></textarea>
        <small>Separate skills with commas</small>
      </div>

      <div class="form-group">
        <label class="agree-checkbox">
          <input type="checkbox" id="agreeTerms" required />
          <span>I agree to the <a href="#" id="termsLink">Terms & Conditions</a></span>
        </label>
      </div>

      <button type="submit" id="submitBtn" class="btn">Register</button>
    </form>

    <div class="login-link"><p>Already have an account? <a href="login.html">Login here</a></p></div>
  </div>

  <!-- Terms Modal -->
  <div id="termsModal" class="terms-modal" aria-hidden="true" role="dialog" aria-labelledby="termsTitle">
    <div class="terms-modal__backdrop" data-close></div>
    <div class="terms-modal__content" role="document">
      <button class="terms-modal__close" id="termsClose">&times;</button>
      <h2 id="termsTitle">Spread a Smile â€” Terms & Conditions</h2>
      <div class="terms-modal__body">
        <h3>1. Introduction</h3>
        <p>By registering, you agree to the rules of Spread a Smile (SAS) and its volunteer activities.</p>
        <h3>2. Commitment</h3>
        <p>Members agree to participate regularly and maintain professionalism during events.</p>
        <h3>3. Privacy</h3>
        <p>Your data is used only for volunteering coordination and never sold to third parties.</p>
        <h3>4. Termination</h3>
        <p>Non-compliance or misconduct may result in removal from the SAS community.</p>
      </div>
    </div>
  </div>

  <!-- Page-specific JS (moved to page-named path) -->
  
  <!-- Celebration overlay (shown after successful registration) -->
  <div id="celebration" class="celebration" aria-hidden="true" role="status">
    <canvas id="confettiCanvas"></canvas>
    <div class="celebration-message">
      <div class="title">Registration successful!</div>
      <div class="subtitle">Welcome to Spread a Smile ðŸŽ‰</div>
    </div>
  </div>

  <script src="js/pages/register.js" defer></script>
</body>
</html>
